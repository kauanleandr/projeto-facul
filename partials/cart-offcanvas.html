<div class="offcanvas offcanvas-end" tabindex="-1" id="carrinhoOffcanvas" style="width: 400px;">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">
      <i class="bi bi-bag me-2"></i>Meu Pedido
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>

  <div class="offcanvas-body">
    <!-- Lista de produtos -->
    <div id="carrinhoProdutos" class="mb-4"></div>
    
    <!-- Total -->
    <div class="border-top pt-3 mb-4">
      <div class="d-flex justify-content-between align-items-center">
        <strong class="h5 mb-0">Total:</strong>
        <strong class="h5 mb-0 text-primary">R$ <span id="totalPreco">0,00</span></strong>
      </div>
    </div>

    <!-- Formulário de dados do cliente -->
    <div id="formCliente" style="display: none;">
      <h6 class="mb-3">
        <i class="bi bi-person me-2"></i>Dados para entrega
      </h6>
      
      <div class="mb-3">
        <label for="nomeCliente" class="form-label">Nome completo</label>
        <input type="text" class="form-control" id="nomeCliente" placeholder="Seu nome completo" required>
      </div>

      <div class="mb-3">
        <label for="telefoneCliente" class="form-label">WhatsApp</label>
        <input type="tel" class="form-control" id="telefoneCliente" placeholder="(91) 9 9999-9999" required>
      </div>

      <div class="mb-3">
        <label for="enderecoCliente" class="form-label">Endereço completo</label>
        <textarea class="form-control" id="enderecoCliente" rows="3" placeholder="Rua, número, bairro, referências..." required></textarea>
      </div>

      <div class="mb-4">
        <label for="formaPagamento" class="form-label">Forma de pagamento</label>
        <select class="form-select" id="formaPagamento" required>
          <option value="">Selecione...</option>
          <option value="pix">PIX</option>
          <option value="dinheiro">Dinheiro</option>
          <option value="cartao">Cartão (na entrega)</option>
        </select>
      </div>

      <div id="trocoDiv" class="mb-3" style="display: none;">
        <label for="valorTroco" class="form-label">Troco para quanto?</label>
        <input type="number" class="form-control" id="valorTroco" placeholder="Ex: 50" step="0.01">
      </div>

      <div class="d-grid gap-2">
        <button id="finalizarPedido" class="btn btn-success btn-lg">
          <i class="bi bi-whatsapp me-2"></i>Finalizar no WhatsApp
        </button>
        <button id="voltarCarrinho" class="btn btn-outline-secondary">
          <i class="bi bi-arrow-left me-2"></i>Voltar ao carrinho
        </button>
      </div>
    </div>

    <!-- Botões iniciais do carrinho -->
    <div id="botoesCarrinho">
      <div class="d-grid gap-2">
        <button id="continuarPedido" class="btn btn-primary btn-lg" disabled>
          <i class="bi bi-arrow-right me-2"></i>Continuar pedido
        </button>
        <button class="btn btn-outline-secondary" data-bs-dismiss="offcanvas">
          <i class="bi bi-plus me-2"></i>Adicionar mais itens
        </button>
      </div>
      <p class="text-muted mt-3 mb-0 small text-center">
        <i class="bi bi-info-circle me-1"></i>
        Após finalizar, você será redirecionado para o WhatsApp
      </p>
    </div>
  </div>
</div>